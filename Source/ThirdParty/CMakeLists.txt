add_subdirectory(fmt)
set(fmt_DIR ${CMAKE_CURRENT_SOURCE_DIR}/fmt)

# 设置别名确保兼容性
if(NOT TARGET fmt::fmt)
    add_library(fmt::fmt ALIAS fmt-header-only)
endif()

set(SPDLOG_FMT_EXTERNAL_HO ON)
set(fmt_DIR "${CMAKE_CURRENT_SOURCE_DIR}/fmt")
add_subdirectory(spdlog)
add_subdirectory(glad)
add_subdirectory(glm)
add_subdirectory(imgui)
add_subdirectory(glfw)

set(ASSIMP_BUILD_ALL_EXPORTERS_BY_DEFAULT false)
set(BUILD_SHARED_LIBS true)
set(ASSIMP_BUILD_TESTS false)
add_subdirectory(assimp)

add_subdirectory(rapidjson)

if (INDEPENDENT_VOLUCRIS)
	set_target_properties(spdlog PROPERTIES FOLDER "ThirdParty")
	set_target_properties(fmt PROPERTIES FOLDER "ThirdParty")
	set_target_properties(glm PROPERTIES FOLDER "ThirdParty")
	set_target_properties(rapidjson PROPERTIES FOLDER "ThirdParty")
	set_target_properties(assimp PROPERTIES FOLDER "ThirdParty/assimp")
	set_target_properties(zlibstatic PROPERTIES FOLDER "ThirdParty/assimp")
	set_target_properties(UpdateAssimpLibsDebugSymbolsAndDLLs PROPERTIES FOLDER "ThirdParty/assimp")
else()
	set_target_properties(spdlog PROPERTIES FOLDER "Engine/ThirdParty")
	set_target_properties(fmt PROPERTIES FOLDER "Engine/ThirdParty")
	set_target_properties(glm PROPERTIES FOLDER "Engine/ThirdParty")
	set_target_properties(rapidjson PROPERTIES FOLDER "Engine/ThirdParty")
	set_target_properties(assimp PROPERTIES FOLDER "Engine/ThirdParty/assimp")
	set_target_properties(zlibstatic PROPERTIES FOLDER "Engine/ThirdParty/assimp")
	set_target_properties(UpdateAssimpLibsDebugSymbolsAndDLLs PROPERTIES FOLDER "Engine/ThirdParty/assimp")
endif()